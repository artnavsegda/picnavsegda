<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 11 (filtered)">
<title>PIC18 Peripheral Libraries</title>

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
h1
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.3in;
	text-indent:-.3in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
h2
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.4in;
	text-indent:-.4in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:Arial;
	layout-grid-mode:line;
	font-style:italic;}
h3
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
h4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.6in;
	margin-bottom:.0001pt;
	text-indent:-.6in;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
h5
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.7in;
	text-indent:-.7in;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;
	font-style:italic;}
h6
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.8in;
	text-indent:-.8in;
	font-size:11.0pt;
	font-family:"Times New Roman";
	layout-grid-mode:line;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.9in;
	text-indent:-.9in;
	font-size:12.0pt;
	font-family:"Times New Roman";
	layout-grid-mode:line;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	font-size:12.0pt;
	font-family:"Times New Roman";
	layout-grid-mode:line;
	font-style:italic;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:1.1in;
	text-indent:-1.1in;
	font-size:11.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0in;
	margin-bottom:.0001pt;
	line-height:200%;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.25in;
	margin-bottom:.0001pt;
	line-height:200%;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;
	font-style:italic;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:20.0pt;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	text-align:center;
	font-size:16.0pt;
	font-family:Arial;
	layout-grid-mode:line;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:Arial;
	layout-grid-mode:line;
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:Tahoma;
	layout-grid-mode:line;}
span.Computer
	{font-family:"Courier New";
	color:windowtext;}
p.Bulleted, li.Bulleted, div.Bulleted
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.75in;
	text-indent:-.25in;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;}
p.CellBody, li.CellBody, div.CellBody
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;}
p.CellHeading, li.CellHeading, div.CellHeading
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	font-weight:bold;}
p.Footnote, li.Footnote, div.Footnote
	{margin-top:3.0pt;
	margin-right:.25in;
	margin-bottom:3.0pt;
	margin-left:42.5pt;
	text-indent:-11.5pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;}
p.Indented, li.Indented, div.Indented
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.75in;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;}
p.Numbered, li.Numbered, div.Numbered
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.75in;
	text-indent:-.25in;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;}
p.Numbered1, li.Numbered1, div.Numbered1
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.75in;
	text-indent:-.25in;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;}
p.TableFootnote, li.TableFootnote, div.TableFootnote
	{margin-top:3.0pt;
	margin-right:.25in;
	margin-bottom:3.0pt;
	margin-left:42.5pt;
	text-indent:-11.5pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;}
p.TableTitle, li.TableTitle, div.TableTitle
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;
	text-transform:uppercase;
	font-weight:bold;}
p.NormalBold, li.NormalBold, div.NormalBold
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	line-height:14.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;
	font-weight:bold;}
span.NormalBoldChar
	{font-family:Arial;
	color:black;
	font-weight:bold;}
p.Note, li.Note, div.Note
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	line-height:14.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Arial;
	color:black;
	font-weight:bold;}
span.Heading2Char
	{font-family:Arial;
	layout-grid-mode:line;
	font-weight:bold;
	font-style:italic;}
span.StyleComputerBoldItalicRed
	{font-family:"Courier New";
	color:windowtext;
	font-weight:bold;
	font-style:italic;}
p.TableofContents, li.TableofContents, div.TableofContents
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	text-autospace:none;
	font-size:12.0pt;
	font-family:Arial;
	color:black;
	text-transform:uppercase;
	font-weight:bold;}
 /* Page Definitions */
 @page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=Section1>

<p class=MsoTitle><span class=Computer><span style='font-family:Arial'>SPI™
Functions</span></span></p>

<p class=MsoTitle><span class=Computer>&nbsp;</span></p>

<p class=TableofContents><span class=Computer><span style='font-family:Arial;
color:black'>Table of Contents</span></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc178000315">1<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-weight:normal;text-decoration:none'>    </span>Introduction<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc178000316">2<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-weight:normal;text-decoration:none'>    </span>Function
Descriptions<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000317">2.1<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>CloseSPI
CloseSPI1 CloseSPI2<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000318">2.2<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>DataRdySPI
DataRdySPI1 DataRdySPI2<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000319">2.3<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>getcSPI
getcSPI1 getcSPI2<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000320">2.4<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>getsSPI
getsSPI1 getsSPI2<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000321">2.5<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>OpenSPI
OpenSPI1 OpenSPI2<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000322">2.6<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>putcSPI
putcSPI1 putcSPI2<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000323">2.7<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>putsSPI
putsSPI1 putsSPI2<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000324">2.8<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>ReadSPI
ReadSPI1 ReadSPI2 getcSPI getcSPI1 getcSPI2<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc178000325">2.9<span
style='font-size:12.0pt;line-height:200%;font-family:"Times New Roman";
color:windowtext;layout-grid-mode:both;font-style:normal;text-decoration:none'>      </span>WriteSPI
WriteSPI1 WriteSPI2 putcSPI putcSPI1 putcSPI2<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<span class=Computer><b><span style='font-size:12.0pt;layout-grid-mode:line'><br
clear=all style='page-break-before:always'>
</span></b></span>

<h1><a name="_Toc178000315"><span class=Computer><span style='font-family:Arial'>1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=Computer><span style='font-family:Arial'>Introduction</span></span></a></h1>

<p class=MsoNormal><span class=Computer><span style='font-family:Arial'>The
following routines are provided for devices with a single SPI peripheral:</span></span></p>

<p class=TableTitle><span class=Computer><span style='font-family:Arial;
color:black'>Table:             Single SPI™ Peripheral Functions</span></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:.4pt;border-collapse:collapse'>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-bottom:double windowtext 2.25pt;padding:0in 0in 0in 0in'>
  <p class=CellHeading><span class=Computer><span style='font-family:Arial'>Function</span></span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:double windowtext 2.25pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellHeading><span class=Computer><span style='font-family:Arial'>Description</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>CloseSPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Disable
  the SSP module used for SPI™ communications.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>DataRdySPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Determine
  if a new value is available from the SPI buffer.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>getcSPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Read a
  byte from the SPI bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>getsSPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Read a
  string from the SPI bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>OpenSPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Initialize
  the SSP module used for SPI communications.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>putcSPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Write
  a byte to the SPI bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>putsSPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Write
  a string to the SPI bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>ReadSPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Read a
  byte from the SPI bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>WriteSPI</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Write
  a byte to the SPI bus.</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer><span style='font-family:Arial'>The
following routines are provided for devices with multiple SPI peripherals:</span></span></p>

<p class=TableTitle><span class=Computer><span style='font-family:Arial;
color:black'>Table:             Multiple SPI™ Peripheral Functions</span></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:.4pt;border-collapse:collapse'>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-bottom:double windowtext 2.25pt;padding:0in 0in 0in 0in'>
  <p class=CellHeading><span class=Computer><span style='font-family:Arial'>Function</span></span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:double windowtext 2.25pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellHeading><span class=Computer><span style='font-family:Arial'>Description</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>CloseSPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Disable
  the SSPx module used for SPI™ communications.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>DataRdySPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Determine
  if a new value is available from the SPIx buffer.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>getcSPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Read a
  byte from the SPIx bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>getsSPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Read a
  string from the SPIx bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>OpenSPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Initialize
  the SSPxx module used for SPI communications.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>putcSPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Write
  a byte to the SPIx bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>putsSPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Write
  a string to the SPIx bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>ReadSPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Read a
  byte from the SPIx bus.</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=147 valign=top style='width:110.15pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>WriteSPIx</span></p>
  </td>
  <td width=356 valign=top style='width:267.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><span style='font-family:Arial'>Write
  a byte to the SPIx bus.</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer><span style='font-family:Arial;
layout-grid-mode:both'>Based on the different control registers, configuration
bits and their positions in the control register, all PIC18 devices are divided
into following different versions. Wherever required, separate functions have
been designed to support these versions, so before calling the LIB functions
care has to be taken to know the version of the configured device and to call
the appropriate function with correct number of arguments. </span></span></p>

<p class=MsoNormal><span class=Computer><span style='font-family:Arial;
layout-grid-mode:both'>&nbsp;</span></span></p>

<p class=MsoNormal><span class=Computer><span style='font-family:Arial;
layout-grid-mode:both'>Below is the table to find the SPI version for the
configured device:</span></span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=TableTitle><span class=Computer><span style='font-family:Arial;
color:black'>TABLE:             VERSION vs. DEVICES </span></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:.4pt;border-collapse:collapse'>
 <tr style='height:17.7pt'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-bottom:double windowtext 2.25pt;padding:0in 0in 0in 0in;height:17.7pt'>
  <p class=CellHeading><span class=Computer><span style='font-family:Arial'>Version
  name</span></span></p>
  </td>
  <td width=443 valign=top style='width:332.6pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:double windowtext 2.25pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in;height:17.7pt'>
  <p class=CellHeading><span class=Computer><span style='font-family:Arial'>Device
  number</span></span></p>
  </td>
 </tr>
 <tr style='height:59.85pt'>
  <td width=126 style='width:94.5pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;height:59.85pt'>
  <p class=MsoNormal><span class=Computer>SPI</span><span class=Computer>_V1</span></p>
  </td>
  <td width=443 valign=top style='width:332.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in;height:59.85pt'>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18C242,
  18C252, 18C442, 18C452, 18F242, 18F252, 18F442, 18F452,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F248,
  18F258, 18F448, 18F458, 18F2439, 18F2539, 18F4439,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F4539,
  18C601, 18C801, 18C658, 18C858, 18F6620, 18F6720,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F8620,
  18F8720, 18F6520, 18F8520, 18F2220, 18F2320, 18F4220,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F4320,
  18F2420, 18F2520, 18F4420, 18F4520, 18F2423, 18F2523,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F4423,
  18F4523, 18F2455, 18F2550, 18F4455, 18F4550, 18F2480,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F2580,
  18F4480, 18F4580, 18F2410, 18F2510, 18F2515, 18F2610,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F4410,
  18F4510, 18F4515, 18F4610, 18F2525, 18F2620, 18F4525,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F4620,
  18F2585, 18F2680, 18F4585, 18F4680, 18F2682, 18F2685,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F4682,
  18F4685, 18F2221, 18F2321, 18F4221, 18F4321, 18F6310,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F6410,
  18F8310, 18F8410, 18F6390, 18F6490, 18F8390, 18F8490,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F6585,
  18F6680, 18F8585, 18F8680, 18F6525, 18F6621, 18F8525,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F8621,
  18F63J11, 18F64J11, 18F65J11, 18F83J11, 18F84J11,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F85J11,
  18F63J90, 18F64J90, 18F65J90, 18F83J90, 18F84J90,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F85J90,
  18F23K20, 18F24K20, 18F25K20, 18F43K20, 18F44K20,</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F45K20,
  18F13K50, 18LF13K50, 18F14K50, 18LF14K50, 18F13K22, 18F14K22, 18LF13K22,
  18LF14K22, 18F66J90, 18F67J90,18F86J90</span></span></p>
  <p class=MsoNormal><span class=Computer><span style='font-family:Arial'>18F87J90</span></span></p>
  </td>
 </tr>
 <tr style='height:.3in'>
  <td width=126 style='width:94.5pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;height:.3in'>
  <p class=MsoNormal><span class=Computer>SPI</span><span class=Computer>_V2</span></p>
  </td>
  <td width=443 valign=top style='width:332.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in;height:.3in'>
  <p class=MsoNormal>18F24J10, 18F25J10, 18F66J60, 18F66J65, 18F67J60, 18F86J60,</p>
  <p class=MsoNormal>18F86J65, 18F87J60</p>
  </td>
 </tr>
 <tr style='height:25.85pt'>
  <td width=126 style='width:94.5pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;height:25.85pt'>
  <p class=MsoNormal><span class=Computer>SPI</span><span class=Computer>_V3</span></p>
  </td>
  <td width=443 valign=top style='width:332.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in;height:25.85pt'>
  <p class=MsoNormal>18F6527, 18F6622, 18F6627, 18F6722, 18F8527, 18F8622, 18F8627,</p>
  <p class=MsoNormal>18F8722, 18F44J10, 18F45J10, 18F65J10, 18F65J15, 18F66J10,</p>
  <p class=MsoNormal>18F66J15, 18F67J10, 18F85J10, 18F85J15, 18F86J10, 18F86J15,</p>
  <p class=MsoNormal>18F87J10, 18F96J60, 18F96J65, 18F97J60, 18F66J11, 18F66J16,</p>
  <p class=MsoNormal>18F67J11, 18F86J11, 18F86J16, 18F87J11, 18F65J50, 18F66J50,</p>
  <p class=MsoNormal>18F66J55, 18F67J50, 18F85J50, 18F86J50, 18F86J55, 18F87J50</p>
  </td>
 </tr>
 <tr style='height:.2in'>
  <td width=126 style='width:94.5pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;height:.2in'>
  <p class=MsoNormal><span class=Computer>SPI_V4</span></p>
  </td>
  <td width=443 valign=top style='width:332.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in;height:.2in'>
  <p class=MsoNormal>18F2331, 18F2431, 18F4331, 18F4431</p>
  </td>
 </tr>
 <tr style='height:.2in'>
  <td width=126 style='width:94.5pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;height:.2in'>
  <p class=MsoNormal><span class=Computer>SPI_V5</span></p>
  </td>
  <td width=443 valign=top style='width:332.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in;height:.2in'>
  <p class=MsoNormal>18F24J11, 18F25J11, 18F26J11, 18F44J11, 18F45J11,
  18F46J11,</p>
  <p class=MsoNormal>18F24J50, 18F25J50, 18F26J50, 18F44J50, 18F45J50, 18F46J50,
  18LF24J11, 18LF25J11, 18LF26J11, 18LF44J11, 18LF45J11, 18LF46J11,</p>
  <p class=MsoNormal>18LF24J50, 18LF25J50, 18LF26J50, 18LF44J50, 18LF45J50,
  18LF46J50</p>
  </td>
 </tr>
</table>

<h1 style='margin-left:0in;text-indent:0in'><span class=Computer>&nbsp;</span></h1>

<h1><a name="_Toc178000316"><span class=Computer><span style='font-family:Arial'>2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=Computer><span style='font-family:Arial'>Function
Descriptions</span></span></a></h1>

<h2><a name="_Toc178000317">2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>CloseSPI<br>
CloseSPI1<br>
CloseSPI2</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Function:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody>Disable the SSPx module.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Include:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Prototype:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4 </b></span></p>
  <p class=CellBody><span class=Computer>void CloseSPI( void );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>void CloseSPI1( void );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>void CloseSPI2( void );</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Remarks:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody>This function disables the SSPx module. Pin I/O returns
  under the control of the appropriate TRIS and LAT registers.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>File Name:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi_clos.c</span></p>
  <p class=CellBody><span class=Computer>spi1clos.c</span></p>
  <p class=CellBody><span class=Computer>spi2clos.c</span></p>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc178000318">2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>DataRdySPI<br>
DataRdySPI1<br>
DataRdySPI2</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Function:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody>Determine if the SSPBUFx contains data.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Include:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Prototype:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char DataRdySPI( void );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char DataRdySPI1( void );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5 </b></span></p>
  <p class=CellBody><span class=Computer>unsigned char DataRdySPI2( void );</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Remarks:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody>This function determines if there is a byte to be read from
  the SSPBUFx register.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Return Value:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody>0 if there is no data in the SSPBUFx register</p>
  <p class=CellBody>1 if there is data in the SSPBUFx register</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>File Name:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi_dtrd.c</span></p>
  <p class=CellBody><span class=Computer>spi1dtrd.c</span></p>
  <p class=CellBody><span class=Computer>spi2dtrd.c</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Code Example:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>while (!DataRdySPI());</span></p>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc178000319">2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>getcSPI<br>
getcSPI1<br>
getcSPI2</a></h2>

<p class=MsoNormal><span style='layout-grid-mode:both'>getcSPIx is defined as
ReadSPIx. See <b>ReadSPIx</b>.</span></p>

<p class=MsoNormal><span style='layout-grid-mode:both'>&nbsp;</span></p>

<h2><a name="_Toc178000320">2.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>getsSPI<br>
getsSPI1<br>
getsSPI2</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Function:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody>Read a string from the SPIx bus.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Include:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Prototype:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4</b></span></p>
  <p class=CellBody><span class=Computer>void getsSPI( unsigned char *</span><span
  class=Computer><b><i>rdptr</i></b>,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>length</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>void getsSPI1( unsigned char *</span><span
  class=Computer><b><i>rdptr</i></b>,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>length</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>void getsSPI2( unsigned char *</span><span
  class=Computer><b><i>rdptr</i></b>,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>length</i></b> );</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Arguments:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><b><i>Rdptr</i></b></span></p>
  <p class=CellBody>Pointer to location to store data read from SPIx device.</p>
  <p class=CellBody><span class=Computer><b><i>length</i></b></span></p>
  <p class=CellBody>Number of bytes to read from SPIx device.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Remarks:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody>This function reads in a predetermined data string length
  from the SPIx bus.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>File Name:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi_gets.c</span></p>
  <p class=CellBody><span class=Computer>spi1gets.c</span></p>
  <p class=CellBody><span class=Computer>spi2gets.c</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Code Example:</b></p>
  </td>
  <td width=456 valign=top style='width:4.75in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>unsigned char wrptr[10];</span></p>
  <p class=CellBody><span class=Computer>getsSPI(wrptr, 10);</span></p>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc178000321">2.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>OpenSPI<br>
OpenSPI1<br>
OpenSPI2</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Function:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>Initialize the SSPx module.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Include:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Prototype:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4</b></span></p>
  <p class=CellBody><span class=Computer>void OpenSPI( unsigned char sync_mode,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>bus_mode</i></b>,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>smp_phase</i></b>);</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>void OpenSPI1( unsigned char </span><span
  class=Computer><b><i>sync_mode</i></b>,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>bus_mode</i></b>,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>smp_phase</i></b>);</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>void OpenSPI2( unsigned char </span><span
  class=Computer><b><i>sync_mode</i></b>,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>bus_mode</i></b>,</span></p>
  <p class=CellBody><span class=Computer>              unsigned char </span><span
  class=Computer><b><i>smp_phase</i></b>);</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Arguments:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><b><i>sync_mode</i></b></span></p>
  <p class=CellBody>One of the following values, defined in spi.h:</p>
  <p class=CellBody><span class=Computer>SPI_FOSC_4        </span>SPI Master
  mode, clock = Fosc/4</p>
  <p class=CellBody><span class=Computer>SPI_FOSC_16       </span>SPI Master
  mode, clock = Fosc/16</p>
  <p class=CellBody><span class=Computer>SPI_FOSC_64       </span>SPI Master
  mode, clock = Fosc/64</p>
  <p class=CellBody><span class=Computer>SPI_FOSC_TMR2     </span>SPI Master
  mode, clock = TMR2 output/2</p>
  <p class=CellBody><span class=Computer>SLV_SSON          </span>SPI Slave
  mode, /SS pin control enabled</p>
  <p class=CellBody><span class=Computer>SLV_SSOFF         </span>SPI Slave
  mode, /SS pin control disabled</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><b><i>bus_mode</i></b></span></p>
  <p class=CellBody>One of the following values, defined in spi.h:</p>
  <p class=CellBody><span class=Computer>MODE_00           </span>Setting for
  SPI bus Mode 0,0 </p>
  <p class=CellBody><span class=Computer>MODE_01           </span>Setting for
  SPI bus Mode 0,1 </p>
  <p class=CellBody><span class=Computer>MODE_10           </span>Setting for SPI
  bus Mode 1,0 </p>
  <p class=CellBody><span class=Computer>MODE_11           </span>Setting for
  SPI bus Mode 1,1</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><b><i>smp_phase</i></b></span></p>
  <p class=CellBody>One of the following values, defined in spi.h:</p>
  <p class=CellBody><span class=Computer>SMPEND            </span>Input data
  sample at end of data out</p>
  <p class=CellBody><span class=Computer>SMPMID            </span>Input data
  sample at middle of data out</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Remarks:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>This function sets up the SSPx module for use with a SPIx
  bus device.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>File Name:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi_open.c</span></p>
  <p class=CellBody><span class=Computer>spi1open.c</span></p>
  <p class=CellBody><span class=Computer>spi2open.c</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Code Example:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>OpenSPI(SPI_FOSC_16, MODE_00, SMPEND);</span></p>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc178000322">2.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>putcSPI<br>
putcSPI1<br>
putcSPI2</a></h2>

<p class=MsoNormal><span style='layout-grid-mode:both'>putcSPIx is defined as
WriteSPIx. See <b>WriteSPIx</b>.</span></p>

<p class=MsoNormal><span style='layout-grid-mode:both'>&nbsp;</span></p>

<h2><a name="_Toc178000323">2.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>putsSPI<br>
putsSPI1<br>
putsSPI2</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Function:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>Write a string to the SPIx bus.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Include:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Prototype:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4</b></span></p>
  <p class=CellBody><span class=Computer>void putsSPI( unsigned char </span><span
  class=Computer><b><i>*wrptr</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>void putsSPI1( unsigned char </span><span
  class=Computer><b><i>*wrptr</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>void putsSPI2( unsigned char </span><span
  class=Computer><b><i>*wrptr</i></b> );</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Arguments</b><span class=Computer>:</span></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><b><i>Wrptr</i></b></span></p>
  <p class=CellBody>Pointer to value that will be written to the SPIx bus.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Remarks:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>This function writes out a data string to the SPIx bus
  device. The routine is terminated by reading a null character in the data
  string (the null character is not written to the bus).</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>File Name:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi_puts.c</span></p>
  <p class=CellBody><span class=Computer>spi1puts.c</span></p>
  <p class=CellBody><span class=Computer>spi2puts.c</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Code Example:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>unsigned char wrptr[] = “Hello!”;</span></p>
  <p class=CellBody><span class=Computer>putsSPI(wrptr);</span></p>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc178000324">2.8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ReadSPI<br>
ReadSPI1<br>
ReadSPI2<br>
getcSPI<br>
getcSPI1<br>
getcSPI2</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Function:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>Read a byte from the SPIx bus.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Include:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Prototype:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char ReadSPI( void );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V2,V3,V4</b></span></p>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  <p class=CellBody><span class=Computer>unsigned char ReadSPI1( void );</span></p>
  <p class=CellBody><span class=Computer>unsigned char ReadSPI2( void );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char getcSPI( void );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char getcSPI1( void );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5 </b></span></p>
  <p class=CellBody><span class=Computer>unsigned char getcSPI2( void );</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Remarks:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>This function initiates a SPIx bus cycle for the
  acquisition of a byte of data. getcSPIx is defined to be ReadSPIx in spi.h.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Return Value:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>This function returns a byte of data read during a SPIx
  read cycle.</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>File Name:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi_read.c</span></p>
  <p class=CellBody><span class=Computer>spi1read.c</span></p>
  <p class=CellBody><span class=Computer>spi2read.c</span></p>
  <p class=CellBody><span class=Computer>getcSPI is in a #define in spi.h</span></p>
  <p class=CellBody><span class=Computer>getcSPI1 is in a #define in spi.h</span></p>
  <p class=CellBody><span class=Computer>getcSPI2 is in a  #define in spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Code Example:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>char x;</span></p>
  <p class=CellBody><span class=Computer>x = ReadSPI();</span></p>
  <p class=CellBody><span class=Computer>&nbsp;</span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc178000325">2.9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>WriteSPI<br>
WriteSPI1<br>
WriteSPI2<br>
putcSPI<br>
putcSPI1<br>
putcSPI2</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Function:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>Write a byte to the SPIx bus.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Include:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Prototype:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char WriteSPI(</span></p>
  <p class=CellBody><span class=Computer>            unsigned char </span><span
  class=Computer><b><i>data_out</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char WriteSPI1(</span></p>
  <p class=CellBody><span class=Computer>            unsigned char </span><span
  class=Computer><b><i>data_out</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char WriteSPI2(</span></p>
  <p class=CellBody><span class=Computer>            unsigned char </span><span
  class=Computer><b><i>data_out</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V1,V4</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char putcSPI(</span></p>
  <p class=CellBody><span class=Computer>            unsigned char </span><span
  class=Computer><b><i>data_out</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char putcSPI1(</span></p>
  <p class=CellBody><span class=Computer>            unsigned char </span><span
  class=Computer><b><i>data_out</i></b> );</span></p>
  <p class=CellBody><span class=Computer>For <b>SPI_V2,V3,V5</b></span></p>
  <p class=CellBody><span class=Computer>unsigned char putcSPI2(</span></p>
  <p class=CellBody><span class=Computer>            unsigned char </span><span
  class=Computer><b><i>data_out</i></b> );</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Arguments:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer><b><i>data_out</i></b></span></p>
  <p class=CellBody>Value to be written to the SPIx bus.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Remarks:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody>This function writes a single data byte out and then checks
  for a write collision. putcSPIx is defined to be WriteSPIx in spi.h.</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Return Value:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody> 0 if no write collision occurred</p>
  <p class=CellBody>-1 if a write collision occurred</p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>File Name:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>spi_writ.c</span></p>
  <p class=CellBody><span class=Computer>spi1writ.c</span></p>
  <p class=CellBody><span class=Computer>spi2writ.c</span></p>
  <p class=CellBody><span class=Computer>putcSPI is in a #define in spi.h</span></p>
  <p class=CellBody><span class=Computer>putcSPI1 is in a #define in spi.h</span></p>
  <p class=CellBody><span class=Computer>putcSPI2 is in a #define in spi.h</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 valign=top style='width:1.25in;padding:0in 0in 0in 0in'>
  <p class=CellBody><b>Code Example:</b></p>
  </td>
  <td width=450 valign=top style='width:337.5pt;padding:0in 0in 0in 0in'>
  <p class=CellBody><span class=Computer>WriteSPI(‘a’);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=NormalBold><span class=Computer>Example of Use</span></p>

<p class=MsoNormal><span style='layout-grid-mode:both'>The following example
demonstrates the use of an SSP module.</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>#include &lt;p18cxxx.h&gt;</span></p>

<p class=MsoNormal><span class=Computer>#include &lt;spi.h&gt;</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>unsigned char SPI_data;</span></p>

<p class=MsoNormal><span class=Computer>unsigned char SPI_Read[5];</span></p>

<p class=MsoNormal><span class=Computer>unsigned char SPI_Write[10] =
&quot;MICROCHIP&quot;;</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>void main()</span></p>

<p class=MsoNormal><span class=Computer>{</span></p>

<p class=MsoNormal style='text-indent:.5in'><span class=Computer>while(1)</span></p>

<p class=MsoNormal><span class=Computer>      {</span></p>

<p class=MsoNormal><span class=Computer>        OpenSPI(SPI_FOSC_4,MODE_01,SMPMID);</span></p>

<p class=MsoNormal><span class=Computer>        SSPCON |= SPI_FOSC_64;</span></p>

<p class=MsoNormal><span class=Computer>      </span></p>

<p class=MsoNormal><span class=Computer>        WriteSPI(0x55);</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>        while(0 != (WriteSPI(0x55)));</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>        SPI_data = ReadSPI();</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>        getsSPI(SPI_Read,5);</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>        DataRdySPI();</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>        putsSPI(SPI_Write);</span></p>

<p class=MsoNormal><span class=Computer>&nbsp;</span></p>

<p class=MsoNormal><span class=Computer>        CloseSPI();</span></p>

<p class=MsoNormal><span class=Computer>     }</span></p>

<p class=MsoNormal><span class=Computer>}</span></p>

</div>

</body>

</html>
