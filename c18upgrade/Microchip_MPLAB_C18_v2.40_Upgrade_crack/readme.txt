This is a small hack I wrote to bypass the "No previous installation!" error of Microchip's C18 Upgrade.
Simply run C18Fake and select your C18 installation directory (create if necessary) and click Save button. A "fake" file will now be created into that directory, and this will fool the Upgrade into thinking you already have a former legit installation.
After that you run the C18 Upgrade setup and select the same directory you created/selected before.
Your installation will now begin installing the full C18 package.
Enjoy!
Regards
  Wannabe

Summary:  
The MPLAB® C18 compiler is a full-featured ANSI compliant C compiler for the PIC18 family of PICmicro® 8-bit MCUs. MPLAB C18 is a 32-bit Windows® console application as well as a fully integrated component of Microchip’s MPLAB Integrated Development Environment (IDE), allowing source level debugging with the MPLAB ICE In-Circuit Emulator, the MPLAB ICD 2 In-Circuit Debugger, and the MPLAB SIM simulator.
Projects, compiler switches and linker customizations can be done completely within MPLAB IDE to provide a full graphical front end to this powerful compiler. Editing errors and breakpoints instantly switch to corresponding lines in source code, and watch windows show data structures with defined data types, including floating point. 

Download at:
http://ww1.microchip.com/downloads/en/DeviceDoc/MC18_v240upg.zip
